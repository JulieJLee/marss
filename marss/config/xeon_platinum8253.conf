import:
  - ooo_core.conf
  - atom_core.conf
  - l1_cache.conf
  - l2_cache.conf
  - moesi.conf
  - xeon.conf

machine:
  racer_cpu_baseline:
    description: Xeon Platinum 16 cores for RACER baseline
    min_contexts: 2
    cores:
      - type: xeon
        name_prefix: xeon_
    caches:
      - type: l1_32K_moesi
        name_prefix: L1_I_
        insts: $NUMCORES # Per core L1-I cache
        option:
            private: true
      - type: l1_32K_moesi
        name_prefix: L1_D_
        insts: $NUMCORES # Per core L1-D cache
        option:
            private: true
      - type: l2_2M_moesi
        name_prefix: L2_
        insts: $NUMCORES # Private L2 config
        option:
            private: true
            last_private: true
    memory:
      - type: dram_cont
        name_prefix: MEM_
        insts: 1 # Single DRAM controller
        option:
            latency: 50 # In nano seconds, value does not matter bc dramsim
    interconnects:
      - type: p2p
        connections:
          - core_$: I
            L1_I_$: UPPER
          - core_$: D
            L1_D_$: UPPER
          - L1_I_$: LOWER
            L2_$: UPPER
          - L1_D_$: LOWER
            L2_$: UPPER2
      - type: split_bus
        connections:
          - L2_*: LOWER
            MEM_0: UPPER
